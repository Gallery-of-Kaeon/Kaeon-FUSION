[Kaeon FUSION Home](https://github.com/Gallery-of-Kaeon/Kaeon-FUSION/blob/master/README.md)

# Kaeon FUSION Interface Development

The Kaeon FUSION interface development framework allows third parties to develop interfaces for Kaeon FUSION.

## Before you begin

The Kaeon FUSION interface development framework is based in Java,
so be sure that you have Java installed and that you're comfortable writing Java code.
It is also important that you are familiar with the use of the Philosopher's Stone data structure,
which you can read about [here](https://github.com/Gallery-of-Kaeon/Philosophers-Stone/blob/master/README.md).

## Framework Structure

The framework comes in the form of an Java project.

The project itself is a fully functioning interface,
albeit one that only provides a single command: "Test",
which returns the string "Test Successful".
For example,
If you were to export the project as "Test.jar",
place the jar file next to [Kaeon Origin](https://github.com/Gallery-of-Kaeon/Kaeon-FUSION/blob/master/Kaeon%20FUSION/IDE/README.md),
and run the following Kaeon FUSION code:

    Use: Standard, Test
    Log Line: Test

The program's console would display:

    Test Successful

## How to use

First, download the code for our sample Kaeon FUSION interface [here](https://github.com/Gallery-of-Kaeon/Kaeon-FUSION/blob/master/Kaeon%20FUSION/Module%20Development%20Framework/Interfaces/Test%20Interface/Source).

Please note that the provided code is dependent on the [ONE](https://github.com/Gallery-of-Kaeon/Kaeon-FUSION/tree/master/Kaeon%20FUSION/APIs/ONE/Library),
[FUSION](https://github.com/Gallery-of-Kaeon/Kaeon-FUSION/tree/master/Kaeon%20FUSION/APIs/FUSION/Library),
and [Philosopher's Stone](https://github.com/Gallery-of-Kaeon/Philosophers-Stone/tree/master/Philosopher's%20Stone/API/Java/Library) APIs.

You can also try out the pre-compilded sample interface [here](https://github.com/Gallery-of-Kaeon/Kaeon-FUSION/blob/master/Kaeon%20FUSION/Module%20Development%20Framework/Interfaces/Test%20Interface/Interface/Test.jar?raw=true).

The first thing to do is to name your interface.
For the sake of this example,
we'll name it "My Interface".

Rename the package aether_test such that the name of the package is "aether_" followed by the name of your interface,
all lower case,
with spaces replaced with underscores.
So,
for our example,
the package will be renamed to "aether_my_interface".

Proceed to implement any commands provided by your interface as extensions of the FUSIONUnit class.

Then,
in the FUSIONInterface class in the renamed Aether package,
override the addInterface function.
The FUSION object passed in is a Philosopher's Stone.
Attach any command you've implemented to the FUSION object in a public mutual connection,
and connect the FUSION object to any other Philosopher's Stone your interface works with using a one-way public connection.
Feel free to remove the test command.

Finally,
export your interface to a jar file that shares the name of your interface.
The jar file for this example would be named "My Interface.jar".

Place the jar file next to the Kaeon Origin.jar file and Kaeon Origin will automatically be able to access it.

## The FUSIONUnit Class Functions

### Deny

    public boolean deny(Element element)

If this function returns true,
the command will be bypassed entirely by all FUSION units.

It will return false by default.

### Verify

    public boolean verify(Element element)

If this command returns true,
this fusion will act on the element passed in.

It will return false by default.

### Get Priority

    public int getPriority(Element element)

The position of the element passed in may change based on the integer returned by this function.
The lower the number, the higher the priority.

It will return zero by default.

### Trickle Down

    public boolean trickleDown(Element element)

If this function returns false,
the children of the passed in Element will be bypassed.

It will return true by default.

### Process

    public Object process(Element element, ArrayList<Object> processed)  

Whatever this processed the element and the values returned by its children and returns a value.

It will return null by default.

### Is Added

    public boolean isAdded(Element element, ArrayList<Object> processed)  

If this function returns true,
the FUSION interpreter will use the value generated by the process function as an arguments when processing its parent.

It will return true by default.

### Terminate

    public boolean terminate(Element element, ArrayList<Object> processed)  

If this function returns true,
the FUSION interpreter will terminate.

It will return false by default.

### Jump

    public Element jump(Element element, ArrayList<Object> processed)  

If this function does not return null,
the FUSION interpreter will jump to the returned element.

It will return null by default.

### Handle Error

    public void handleError(Element element, Exception exception)

This function is called whenever any FUSION unit throws an exception.